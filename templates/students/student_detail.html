{% extends "base.html" %}
{% block title %}Student Profile{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">

    <div class="card shadow border-0 overflow-hidden">
      <!-- Profile Header / Banner -->
      <div class="bg-primary p-4 text-white text-center"
        style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
        <div class="position-relative d-inline-block mt-3 mb-3">
          {% if student.profile_pic %}
          <img src="{{ student.profile_pic.url }}" class="rounded-circle border border-4 border-white shadow-sm"
            width="140" height="140" style="object-fit: cover;">
          {% else %}
          <div
            class="rounded-circle bg-white text-primary d-flex align-items-center justify-content-center mx-auto border border-4 border-white shadow-sm"
            style="width: 140px; height: 140px;">
            <i class="fas fa-user fa-4x"></i>
          </div>
          {% endif %}
        </div>
        <h3 class="fw-bold mb-1">{{ student.user.get_full_name|default:student.user.username }}</h3>
        <p class="mb-0 opacity-75">{{ student.department }} Student</p>
      </div>

      <div class="card-body p-4 p-md-5">
        <div class="row g-4">
          <!-- Information Column -->
          <div class="col-md-6">
            <h5 class="fw-bold text-primary mb-4 border-bottom pb-2">
              <i class="fas fa-info-circle me-2"></i>Personal Info
            </h5>

            <div class="mb-3">
              <label class="text-muted small text-uppercase fw-bold">Email Address</label>
              <p class="fs-5 mb-0 text-dark">{{ student.user.email }}</p>
            </div>

            <div class="mb-3">
              <label class="text-muted small text-uppercase fw-bold">Date of Birth</label>
              <p class="fs-5 mb-0 text-dark">{{ student.date_of_birth|default:"Not Provided" }}</p>
            </div>
          </div>

          <!-- Academic Column -->
          <div class="col-md-6">
            <h5 class="fw-bold text-success mb-4 border-bottom pb-2">
              <i class="fas fa-university me-2"></i>Academic Info
            </h5>

            <div class="mb-3">
              <label class="text-muted small text-uppercase fw-bold">Roll Number</label>
              <p class="fs-5 mb-0 font-monospace">{{ student.roll_number }}</p>
            </div>

            <div class="mb-3">
              <label class="text-muted small text-uppercase fw-bold">Department</label>
              <p class="fs-5 mb-0 text-dark">{{ student.department }}</p>
            </div>

            <div class="mb-3">
              <label class="text-muted small text-uppercase fw-bold">Admission Year</label>
              <p class="fs-5 mb-0 text-dark">{{ student.year_of_admission }}</p>
            </div>
          </div>
        </div>

        <div class="text-center mt-5">
          {% if user.is_student and user == student.user %}
          <a href="{% url 'students:student_edit_own' %}" class="btn btn-primary px-4 py-2 rounded-pill shadow-sm">
            <i class="fas fa-user-edit me-2"></i>Edit Profile
          </a>
          {% elif user.is_admin %}
          <a href="{% url 'students:student_edit' student.id %}"
            class="btn btn-warning px-4 py-2 rounded-pill shadow-sm me-2">
            <i class="fas fa-edit me-2"></i>Edit Student
          </a>
          <a href="{% url 'students:student_list' %}" class="btn btn-outline-secondary px-4 py-2 rounded-pill">
            <i class="fas fa-arrow-left me-2"></i>Back to List
          </a>
          {% endif %}
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}